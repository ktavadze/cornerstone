{{#partial "head"}}

{{{ checkout.checkout_head }}}
{{{ stylesheet '/assets/css/optimized-checkout.css' }}}
{{ getFontsCollection }}

<script type="text/javascript">
    window.language = {{{langJson 'optimized_checkout'}}};
</script>

<style type="text/css" media="screen, print">
    @font-face {
        font-family: "Helvetica Neue Light";
        src: url("{{cdn 'webdav:HelveticaNeueLTStd-Lt.ttf'}}");
    }
</style>

{{{head.scripts}}}

{{/partial}}

{{#partial "page"}}
<header class="checkoutHeader optimizedCheckout-header">
    <div class="checkoutHeader-content">
        <h1 class="is-srOnly">{{lang 'checkout.title'}}</h1>
        <h2 class="checkoutHeader-heading">
            <a class="checkoutHeader-link" href="{{urls.home}}">
                {{#if checkout.header_image}}
                    <img alt="{{settings.store_logo.title}}" class="checkoutHeader-logo" id="logoImage" src="{{ checkout.header_image }}"/>
                {{ else }}
                    <span class="header-logo-text">{{settings.store_logo.title}}</span>
                {{/if}}
            </a>
        </h2>
    </div>
</header>

{{{ checkout.checkout_content }}}

{{{ footer.scripts }}}

{{/partial}}

{{> layout/empty}}

<script type="text/javascript" async>
    // update free shipping label
    (async function() {
        while(!document.querySelector(".shippingOptions-container li:first-child")) {
            await new Promise(r => setTimeout(r, 50));
        }

        var target = document.querySelector(".shippingOptions-container li:first-child .shippingOption-desc");
        target.innerHTML = "Complimentary 2-Day Shipping - Signature Required";
    })();
</script>
